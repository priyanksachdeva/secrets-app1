<%- include('partials/header', { user: user }) %>

<main>
  <section class="form-container">
    <h2>Welcome Back!</h2>

    <% if (success) { %>
    <div class="success-message">
      <p><%= success %></p>
    </div>
    <% } %> <% if (error) { %>
    <div class="error-message">
      <p><%= error %></p>
    </div>
    <% } %>

    <form action="/login" method="POST">
      <input type="email" name="email" placeholder="Email address" required />
      <input
        type="password"
        name="password"
        id="password"
        placeholder="Password"
        required
      />

      <label class="show-password">
        <input type="checkbox" onclick="togglePassword()" />
        Show Password
      </label>

      <button type="submit">Login</button>
    </form>
    <p style="text-align: center; margin-top: 16px">
      Don't have an account? <a href="/register">Sign up here</a>
    </p>
  </section>
</main>

<script>
  function togglePassword() {
    const passwordInput = document.getElementById("password");
    passwordInput.type =
      passwordInput.type === "password" ? "text" : "password";
  }
</script>

<%- include('partials/footer') %>
